<div class="container">
  <form #getGatepassForm="ngForm" [formGroup]="getGatePassCompForm">
    
    <h5> Select range of dates for vehicle left: </h5>
    <div class="container col-md-4 col-xs-4">

      <div class="form-group">
        <label>From: </label>
        <input type="date" class="form-control" name="selectStartDate" formControlName="selectStartDate" required>
      </div>
      <div class="form-group">
        <label>To: </label>
        <input type="date" class="form-control" name="selectEndDate" formControlName="selectEndDate" required>
      </div>

      <div class="form-group">
        <button class="btn btn-primary btn-block" (click)="onSelectShowResult(getGatepassForm)" style="margin: 8px;">View Gatepasses</button>
      </div>
     

    </div>

      <div class="form-group spinner-border text-secondary spinner-border-md" style="margin: 16px; padding: 4px;" role="status" *ngIf = "isFetching">
        <span class="sr-only">Loading...</span>
      </div>

  </form>

<div class="row">
    <div class="card col-md-3 col-sm-6 col-xs-6" style="width: 18rem; margin: 12px; padding:2px;" *ngFor="let num of filteredGatepasses">
        <div class="card-body">
          <h5 class="card-title">{{ num.partyName }}</h5>
          <a class="card-link" (click) ="viewGatePass(num)">View</a>
        </div>
      </div>


      <div
  class="modal"
  role="dialog"
  [ngStyle]="{'display':displayStyle}"  *ngIf="currentElementToView">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <p>Selected gatepass details are as follows:</p>
        <table>
          <tbody>
            <tr>
                <td>Transporter Name:</td>
                <td> {{ currentElementToView.transporterName }} </td>
            </tr>
            <tr>
                <td>Vehicle Number:</td>
                <td> {{ currentElementToView.vehicleNumber }} </td>
            </tr>
            <tr>
                <td>Time vehicle entered:</td>
                <td> {{ currentElementToView.timeEntered }} </td>
            </tr>
            <tr>
                <td>Time vehicle left:</td>
                <td> {{ currentElementToView.timeLeft }} </td>
            </tr>
            <tr>
                <td>Party Name:</td>
                <td> {{ currentElementToView.partyName }} </td>
            </tr>
            <tr>
                <td>Items ordered:</td>
                <td> {{ currentElementToView.items }} </td>
            </tr>
            <tr>
                <td>Manager:</td>
                <td> {{ currentElementToView.manager }} </td>
            </tr>
            <tr>
                <td>Bill Number:</td>
                <td> {{ currentElementToView.billNumber }} </td>
            </tr>
            <tr>
                <td>PO:</td>
                <td> {{ currentElementToView.po }} </td>
            </tr>
          </tbody>
          </table>
      </div>
      
      <div class="modal-footer">
        <button class="btn btn-secondary mr-auto btn-ok" (click)="closeGatePass()">ok</button>
      </div>
        
    </div>
  </div>
      
</div>